<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>路由规则</title>
  <link rel="stylesheet" href="../assets/style.css" />
</head>
<body>
  <header>
    <h1>路由规则</h1>
    <div class="search-row">
      <a href="../index.html">返回总览</a>
      <span> | </span>
      <a href="../../md/03_routing_rules.md">打开对应 MD</a>
    </div>
  </header>
  <main>
    <section id="graph-panel">
      <h2>一句话</h2>
      <p>按用户分组+模型选渠，同优先级随机，失败时按规则重试与降级。</p>
      <h2>关键入口</h2>
      <ul>
        <li>`internal/transport/http/middleware/distributor.go:20-111`</li>
        <li>`internal/admin/model/cache.go:228-255`</li>
        <li>`internal/admin/controller/relay.go:70-97`</li>
      </ul>
      <h2>证据入口</h2>
      <ul>
        <li><a href="../../md/evidence/R001_指定渠道优先与禁用校验.md">R001 指定渠道优先</a></li>
        <li><a href="../../md/evidence/R003_缓存优先级随机策略.md">R003 缓存优先级随机</a></li>
        <li><a href="../../md/evidence/R005_失败重试与跳过规则.md">R005 失败重试</a></li>
      </ul>
    </section>
  </main>
</body>
</html>
